var $e=Object.defineProperty,Qe=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var ce=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&ce(e,n,t[n]);if(oe)for(var n of oe(t))Xe.call(t,n)&&ce(e,n,t[n]);return e},m=(e,t)=>Qe(e,Ue(t));import{u as x,a as E,j as h,b as s,w as q,c as R,e as W,r as d,i as Ve,d as ie,f as ae,F as O,g as Je,M as Ye,h as Ze,k as et,C as tt,l as nt,m as rt,n as st,R as ot,P as ct,o as it}from"./vendor.892c8753.js";const at=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};at();const le={parseMnemonics:!1,dark:!0,hue:113},ue="settings/CHANGE",de="settings/TOGGLE_DARK";function lt(e=le,t){return t.type===ue?m(f({},e),{[t.setting]:t.value}):t.type===de?m(f({},e),{dark:!e.dark}):e}const ut=e=>{if(typeof le[e]=="boolean")return"checkbox";throw new Error("No widget for this data type")},M=e=>t=>t.settings[e],dt=()=>x(M("dark"))?"dark":"light",ht=()=>x(M("dark"));function ft(){return{type:de}}function he(e,t){return{type:ue,setting:e,value:t}}const fe=e=>{const t=x(M(e.setting)),n=E();return h("span",{className:"px-1 checkbox",children:[s("input",{className:e.className,id:e.setting,type:ut(e.setting),checked:t,onChange:r=>n(he(e.setting,r.target.checked))}),s("label",{className:"px-1",htmlFor:e.setting,children:e.children})]})},pe={pass:"pass",james:"james",prayer:"pray"};function D(e){const t=e.toLocaleLowerCase();if(pe[t])return pe[t];const n=q.verb(t);if(n!==t)return n;const r=q.noun(t);if(r!==t)return r;const o=q.adjective(t);return o!==t?o:t}const me=/\w+/g,ge=/^s$/;function pt(e){const t={};for(let n in e){const r=e[n];for(let o of r.matchAll(me)){const{0:c,index:a=1337}=o;if(ge.test(c))continue;const i=D(c);t[i]||(t[i]=[]),t[i].push({ref:n,word:c,root:i,index:a})}}return t}function xe(e="",t=[]){for(let n of e.matchAll(me))ge.test(n[0])||t.push(n[0]);return t}function mt(e){const t=[];return e.forEach(n=>xe(n,t)),t}const A=R([e=>e.bank,e=>e.filter],(e,t)=>{const n=new RegExp(t);return Object.fromEntries(Object.entries(e).filter(([r])=>n.test(r)))}),P=R(A,e=>Object.keys(e)),$=R([A],e=>mt(Object.values(e))),Q=R(A,pt);function gt(e,t){const n=t.slice(1).map((c,a)=>a),r=Math.floor(Math.random()*n.length),o=n.splice(r,1)[0];return{type:"recall",completed:0,completedGoal:e.completedGoal,order:e.order,inOrderCount:e.inOrderCount,setIndexesLeft:n,inOrderDone:0,questionIndex:e.order==="random"?o:e.questionIndex}}function xt(e,t,n,r){const o=e.completed+(n?0:1);if(e.order==="same")return m(f({},e),{completed:o});const c=P(t),a=C=>Math.max(0,Math.min(c.length-1,C)),{inOrderCount:i,inOrderDone:l,questionIndex:u}=e;if(l<i-1){const C=e.order==="random"?u+1:u;return m(f({},e),{completed:o,inOrderDone:l+1,questionIndex:a(C)})}if(e.order==="next")return m(f({},e),{completed:o,inOrderDone:0,questionIndex:a(u+1)});const p=e.setIndexesLeft&&e.setIndexesLeft.length?e.setIndexesLeft:c.slice(1).map((C,N)=>N),y=Math.floor(Math.random()*p.length),v=p.slice(),k=v.splice(y,1)[0];return m(f({},e),{completed:o,setIndexesLeft:v,inOrderDone:0,questionIndex:k})}const bt=R([A,e=>e.game.questionIndex,M("parseMnemonics")],(e,t,n)=>{const r=Object.keys(e)[t];return r&&n?new W.Passage(r).reference:r}),be=e=>{const t=P(e);if(e.game.type!=="recall")throw new Error("recallAnswer only works for recall games");const n=t[e.game.questionIndex];return e.bank[n]||""},yt=e=>e===1?"":e===2?" verse pairs":e===3?" verse triplets":" verse sets (size "+e+")",wt=(e,t)=>{const n=" within "+t.filter;return e.order==="random"?"Recall random"+yt(e.inOrderCount)+n:"Recall verses"+n},vt={type:"recall",order:"random",questionIndex:0,inOrderCount:2,inOrderDone:0,setIndexesLeft:[],completed:0,completedGoal:10};function St(e=vt,t,n){switch(t.type){case z:return t.game.type==="recall"?gt(t.game,P(n)):t.game.type==="find"?Wt(t.game,n):e;case j:case U:const r=t.type===U;return e.type==="recall"?xt(e,n,r,t.data):e.type==="find"?Ht(e,n,r,t.data):e;case K:{const o=e.questionIndex+t.amount,c=e.type==="find"?$(n).length:P(n).length,a=Math.min(c,Math.max(0,o));return m(f({},e),{questionIndex:a})}}return e}const U="tas/SKIP_QUESTION",j="tas/FINISH_QUESTION",K="tas/INCREASE_QUESTION",z="tas/CHOOSE_GAME",kt=e=>({type:U,data:e}),ye=e=>({type:j,data:e}),Ct=e=>(t,n)=>{!zt(n())||t({type:j,data:e})},we=e=>({type:K,amount:e}),ve=(e,t)=>({type:z,game:e,filter:t}),Nt=e=>e.game.type==="find"&&e.game.order==="choose"&&e.game.questionIndex===-1?{type:"checkboxes"}:{type:"type"},Se="quiz/GUESS",ke="quiz/SELECT",Ce="quiz/CHECK",It=e=>({type:Se,guess:e}),Et=()=>({type:Ce}),Ot=e=>({type:ke,selection:e}),Rt={guess:"",selection:[0,0,"forward"],previousSelection:[0,0,"forward"],highlight:0};function Mt(e=Rt,t,n){switch(t.type){case j:return m(f({},e),{guess:""});case Se:{const o=Math.min(e.selection[0],e.previousSelection[0]),c=o<e.highlight&&{highlight:o},a=Ae(t.guess,n)&&{highlight:Me(t.guess,n)};return m(f(f(f({},e),c),a),{guess:t.guess})}case ke:return m(f({},e),{selection:t.selection,previousSelection:e.selection});case K:case Ce:const r=Me(e.guess,n)+1;return m(f({},e),{highlight:r});default:return e}}const At=e=>e.textArea.guess,qt=()=>x(e=>m(f({},e.textArea),{highlight:Math.min(e.textArea.guess.length,e.textArea.highlight)}));function Ne(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]!==t[n])return n;n++}return n}const Tt=e=>e.game.type!=="find"?"text":e.game.doingRecap?"ref":e.game.answerType,Gt=e=>e.game.type==="find"?e.game.hintType:"text",Ie=R([e=>e.game.questionIndex,$],(e,t)=>t[e]||""),Ft=e=>{const t=e.game;if(t.type!=="find")return"";if(t.order==="choose"&&t.questionIndex===-1)return"words to find";const n=Ie(e),r=D(n);return(t.doingRecap?"recap ":"")+r},Dt=e=>{const t=Q(e),n=Ie(e);return t[D(n)]||[]},L=R(Dt,e=>{var n;const t={};for(let r of e)t[n=r.ref]||(t[n]=[]),t[r.ref].push(r);return Object.entries(t)}),B=e=>e.game.type==="find"?e.game.found:[],Ee=e=>{const t=V(e),n=A(e),r=Tt(e);if(t==="recall"||r==="text")return c=>n[c];const o=M("parseMnemonics")(e);return c=>o?new W.Passage(c).reference:c},Oe=R([L,At,Ee,B],(e,t,n,r)=>{if(!e.length)return[];let o=[],c=0;for(let[a]of e){if(r.includes(a))continue;const i=Ne(n(a),t);i<c||(i===c&&o.push(a),i>c&&(c=i,o=[a]))}return o}),Lt=e=>{const t=Oe(e)[0];return t?Ee(e)(t):""};function Ht(e,t,n,r){if(e.order==="choose"&&e.questionIndex===-1){if(!Array.isArray(r))throw new Error("hmm");const u=m(f({},e),{queue:r});return X(u,t)}const o=e.found.slice();Oe(t).forEach(u=>o.push(u));const a=L(t);if(o.length<a.length)return m(f({},e),{found:o});if(e.doRecap&&!e.doingRecap)return m(f({},e),{found:[],doingRecap:!0});const i=X(m(f({},e),{doingRecap:!1}),t),l=e.completed+(n?0:1);return m(f({},i),{completed:l,found:[]})}function X(e,t){const n=$(t),r=Q(t);if(n.length===0)return e;if(e.queue.length>0){const c=e.queue.slice(),a=e.order==="random"?Math.floor(Math.random()*c.length):0,i=c.splice(a,1)[0],l=r[D(i)],u=n.indexOf(l[0].word);return u===void 0&&console.error("Didn't find index for ",i,l,t),m(f({},e),{questionIndex:u,queue:c})}const o=e.order==="random"?Re(r,[]).index:e.order==="choose"?-1:e.questionIndex+1;return m(f({},e),{questionIndex:o})}const Wt=(e,t)=>e.order==="next"&&e.queue.length===0?m(f({},e),{questionIndex:0,completed:0}):m(f({},X(e,t)),{completed:0}),Re=(e,t)=>{const n=Object.keys(e);let r=0;for(;;){r=r+1;const o=Math.floor(Math.random()*n.length),c=n[o];c===void 0&&console.error("hmm",e,o);const a=e[c].length,i=e[c][0].index;if(r>10)return{index:i,root:c,count:a};if(!t.includes(c)){if(a>14){console.log("Skipping '"+c+"' with count:",a),t.push(c);continue}return{index:i,root:c,count:a}}}},Pt=(e,t)=>{const n=e.answerType==="text"?"verses":"verse references",r=e.doRecap?" and then recap the references":"";return`Type the ${n} within ${t.filter} that the root word occurs in ${r}`},jt=e=>{const t=e.game.type;return t==="recall"?bt(e):t==="find"?Ft(e):"Clue"},V=e=>e.game.type,zt=e=>Ae(e.textArea.guess,e),Me=(e,t)=>Ne(e,J(t)),Ae=(e,t)=>{const n=m(f({},t),{textArea:m(f({},t.textArea),{guess:e})});return e.startsWith(J(n))},J=e=>e.game.type==="recall"?be(e):e.game.type==="find"?Lt(e):"ggwp",Bt=e=>e.game.type==="recall"?wt(e.game,e):e.game.type==="find"?Pt(e.game,e):"description not written yet",_t={page:"game"},qe="tas/CLOSE_GAME",Te="tas/FINISH_GAME",$t=()=>({type:qe}),Qt=()=>({type:Te});function Ut(e=_t,t){switch(t.type){case qe:case Te:return m(f({},e),{page:"menu"});case z:return m(f({},e),{page:"game"});default:return e}}const Kt=e=>e.navigation.page,Xt=()=>x(Kt),Ge="tas/LOAD_BANK",Vt=e=>(t,n)=>{const r=n();t({type:Ge,bank:e}),r.navigation.page==="game"&&t(ve(r.game))};function Jt(e=Yt,t){const n=t.type===Ge&&{bank:t.bank},r=t.type===z&&t.filter&&{filter:t.filter};return m(f(f(f({},e),n),r),{navigation:Ut(e.navigation,t),settings:lt(e.settings,t),textArea:Mt(e.textArea,t,e),game:St(e.game,t,f(f({},e),r))})}const Yt={bank:{},filter:"^t[c-e]"},Fe=()=>x(e=>m(f({},e),{clue:jt(e),bank:A(e)})),_=e=>{const[t,n]=d.exports.useState({width:0,height:0}),r=e.current;return d.exports.useEffect(()=>{if(!r)return;const o=()=>n(r==null?void 0:r.getBoundingClientRect()),c=new Ve(o);return c.observe(r),()=>{c.unobserve(r)}},[r]),t};function Zt(e){const t=E(),n=d.exports.useRef(null),r=d.exports.useRef(null),o=_(n),c=_(r),a=o.width,i=c.width?c.width:0,l=Math.max(0,Math.min(1,e.complete)),u=Math.max(1-2*l,0),p=Math.max(70,i+30)*u,y=p+l*(a-p);return s("div",{ref:n,className:e.className,style:f({backgroundColor:"rgba(125, 125, 125, .2)",borderRadius:9999,maxHeight:16},e.style),children:s("div",{style:{alignItems:"center",display:"flex",justifyContent:"center",color:"#fff",backgroundColor:"var(--accent)",borderRadius:"9999px",transition:"ease 1s",width:y,maxHeight:"inherit",verticalAlign:"middle"},onTransitionEnd:()=>{l>=1&&t(Qt())},children:s("span",{ref:r,className:"flex",children:e.children})})})}const en=e=>{const{debug:t,reverse:n,back:r}=e,[o,c]=d.exports.useState(!1),a=d.exports.useRef(null),i=_(a),l=Math.max(20,i.height)/2+"px",u=n?!o:o,p=ie({opacity:u?0:1,transform:u?"translate(0%, -"+l+") rotateX(-90deg)":"translate(0%, 0%) rotateX(0deg)",display:"inline-block"}),y=ie({position:"absolute",height:i.height,opacity:u?1:0,transform:u?"translate(0%, 0%) rotateX(0deg)":"translate(0%, "+l+") rotateX(-90deg)"});return h("span",{ref:a,style:{position:"relative",display:"inline-block"},onMouseEnter:()=>!t&&c(!0),onMouseLeave:()=>!t&&c(!1),onClick:()=>t&&c(v=>!v),children:[s(ae.span,{style:y,children:r!=null?r:null}),s(ae.span,{style:p,children:e.children})]})},tn=()=>{const e=x(V);return e==="recall"?s(nn,{}):e==="find"?s(rn,{}):s("p",{children:"hmm"})},nn=()=>{const e=x(be);return s("p",{children:e},e)},rn=()=>{const e=x(L);return s(O,{children:e.map(([t,n])=>s(on,{reff:t,occurrences:n},t))})},sn=()=>{const e=x(L),t=x(B);return s("svg",{className:"relative -left-4 inline",height:"40",width:(e.length+1)*20,children:e.map(([n,r],o)=>s("circle",{className:"fill-current",r:"5",cy:"20",cx:20*(o+1),style:{opacity:t.includes(n)?1:.5},children:"hi"},n))})},on=e=>{const{reff:t,occurrences:n}=e,o=x(M("parseMnemonics"))?new W.Passage(t).reference:t,c=x(A),a=x(B),i=x(Gt)==="ref";return s("p",{style:{opacity:a.includes(t)?1:.5},className:"leading-tight mt-3 w-100 relative",children:s(en,{back:s("span",{className:"flex items-center h-full",children:o}),reverse:i,children:s(cn,{verse:c[t],occurrences:n})})})},cn=e=>{const t=e.occurrences[e.occurrences.length-1];return h(O,{children:[e.occurrences.map((n,r,o)=>{const c=o[r-1],a=c?c.index+c.word.length:0;return h("span",{children:[e.verse.slice(a,n.index),s("span",{className:"animate-pulse",style:{color:"var(--accent)"},children:n.word})]},n.ref+a)}),e.verse.slice(t.index+t.word.length)]})},an=()=>{const e=x(B),t=x(L);return x(V)!=="find"||t.length===0?null:t.length>10?h(O,{children:[e.length,"/",t.length]}):s(sn,{})};function ln(e){const t=2;return h("button",{className:e.className,onClick:e.onClick,style:{backgroundColor:"transparent",borderColor:"transparent",height:e.size||32,width:e.size||32,position:"relative",outline:"none"},children:[s("div",{style:{backgroundColor:"rgba(125, 125, 125, 0.5)",transform:"translate(0%, -50%) rotate(45deg)",position:"absolute",left:"0px",top:"50%",height:t,width:"100%"}}),s("div",{style:{backgroundColor:"rgba(125, 125, 125, 0.5)",transform:"translate(-50%, 0%) rotate(45deg)",position:"absolute",left:"50%",top:"0px",height:"100%",width:t}})]})}function un(e){const t=E(),n=ht();return s("button",{className:"float-right text-3xl",style:{width:e.size,height:e.size,outline:"none"},onClick:r=>t(ft()),children:n?"\u{1F319}":"\u2600\uFE0F"})}const dn=(e,t,n)=>{e<t.current.tween&&(n(e),t.current.tween=e,t.current.velocity=0)},hn=(e,t,n)=>e+(t-e)*.01*n,fn=(e,t)=>Math.abs(e-t)<.1,pn={tweener:(e,t,n,r)=>{const o=e<t?1.7:0,c=e<t?1:.9,a=r.current.velocity||0,i=(t-e)*n*o*1e-5,l=(a+i)*c,u=e+l*n;return e<t&&u>=t?(r.current.velocity=Math.min(l/5,.05),t):(r.current.velocity=l,u)},doneCheck:(e,t,n)=>e>=t&&Math.abs(n.current.velocity||0)<.01,onChange:dn};function mn(e,t){const{tweener:n=hn,doneCheck:r=fn,onChange:o,onEnd:c}=t,[a,i]=d.exports.useState(e);function l(p){i(p),u.current.tween=p}const u=d.exports.useRef({animating:!1,id:0,value:e,tween:a,time:0,tweener:n,doneCheck:r});return d.exports.useEffect(()=>{o&&o(e,u,l),u.current.value=e},[e]),d.exports.useEffect(()=>{u.current.tweener=n},[n]),d.exports.useEffect(()=>{u.current.doneCheck=r},[r]),d.exports.useEffect(()=>{if(u.current.animating||r(a,e,u))return;u.current.animating=!0;const p=y=>{const{value:v,tween:k,time:C,tweener:N,doneCheck:G}=u.current,I=C?y-C:16;u.current.time=y,G(k,v,u)?(Math.abs(v-k)<.05&&l(v),c&&c(v,u,l),u.current.animating=!1,u.current.time=0):(l(N(k,v,I,u)),window.requestAnimationFrame(p))};u.current.id=window.requestAnimationFrame(p)}),d.exports.useEffect(()=>()=>{const{id:p}=u.current;p&&window.cancelAnimationFrame(p)},[]),[a,l]}const De=(e,t,n)=>Math.max(t,Math.min(n,e)),gn="bg-blue-300 bg-opacity-50",xn=e=>"bg-green-500/"+50*De(Math.round(e*5)/5,0,1),bn=e=>"bg-red-500/"+50*De(Math.round(e*5)/5,0,1);function yn(e,t){return(n,r,o,c)=>n?gn:o>=e?"inherit":r===t[o]?xn(e-o):bn(e-o)}function wn(e,t){const n=d.exports.useRef(null);d.exports.useEffect(()=>{const i=n.current;if(!i)return;const[l,u,p]=e;i.selectionStart=l,i.selectionEnd=u,i.selectionDirection=p},[e]);const r=i=>{const l=n.current;if(!l)return!1;t([l.selectionStart||0,l.selectionEnd||0,l.selectionDirection||"none"])},o=i=>i>=e[0]&&i<e[1],c=e[2]==="backward"?e[0]:e[1];return{ref:n,withinSelection:o,cursorIndex:c,focus:()=>{var i;return(i=n.current)==null?void 0:i.focus()},props:{ref:n,onSelect:r,onInput:r}}}function vn(e,t){let n=0,r=e.length-1;for(;n<r;){const o=(r+n)/2|0,c=t(e[o],o,e);if(c===0)return o;c<0?r=o-1:n=o+1}return n}const Le=(e,t)=>{const n=t.getBoundingClientRect(),{top:r,bottom:o,left:c,right:a}=n,{clientX:i,clientY:l}=e;return l<r||l<o&&i<c?-1:l>=o||l>r&&i>=a?1:0};function Y(e,t,n=!0){const r=t.current;if(!r)return 0;const o=Array.from(r.childNodes).filter(i=>i instanceof HTMLSpanElement);if(Le(e,o[o.length-1])===1)return o.length-1;const c=vn(o,i=>Le(e,i)),a=n?Sn(o[c],e):0;return c+a}function Sn(e,t){if(!(e instanceof HTMLSpanElement))return 0;const{top:n,right:r,width:o}=e.getBoundingClientRect(),{clientX:c,clientY:a}=t;return c>=r-o/2&&c<r&&a>n?1:0}function kn(){const e=d.exports.useRef(null),t=()=>{e.current&&window.cancelAnimationFrame(e.current)};return[r=>{t(),e.current=window.requestAnimationFrame(r)},t]}function Cn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Nn=(e,t,n,r)=>e?"bg-blue-300/50":"inherit";function In(e){const{current:t}=d.exports.useRef("ColorInput"+String(Math.random()).slice(5,13)),n=e.id||t,r=d.exports.useState([0,0,"none"]),o=e.selection||r[0],c=b=>!Cn(b,o)&&(e.onSelectionChange||r[1])(b),a=document.querySelector("div.textareaRoot"),[i,l]=d.exports.useState(!1),[u,p]=d.exports.useState(!0),[y,v]=d.exports.useState(null),k=wn(o,c),[C]=kn(),N=d.exports.useRef(null),{width:G}=_(N);d.exports.useEffect(()=>{if(!i)return;p(!0);let b=setInterval(()=>p(w=>!w),600);return()=>clearInterval(b)},[i,o]),d.exports.useEffect(()=>{const b=w=>{y!==null&&C(()=>{const S=Y(w,N);c(S>y?[y,S,"forward"]:[S,y,"backward"])})};return document.body.addEventListener("mousemove",b),()=>document.body.removeEventListener("mousemove",b)},[y,o]),d.exports.useEffect(()=>{const b=w=>{y!==null&&(k.focus(),v(null))};return document.body.addEventListener("mouseup",b),()=>document.body.removeEventListener("mouseup",b)},[y]);const{width:I="100%",fontSize:g="3rem",charClass:H=Nn,debug:je,shortcutMap:ze={}}=e,Be=d.exports.useMemo(()=>{const b=[];return Array.prototype.forEach.call(e.value+" ",(w,S)=>{let F="";S===k.cursorIndex&&(F+="cursor "),S<e.value.length&&(F+=H(k.withinSelection(S),w,S,e.value)),b.push(s("span",{className:F,children:w},S))}),b},[H,e.value,o[0],o[1]]);return a?h("div",{className:"ColorInput",children:[s("p",{className:"ColorInput "+(u&&(i||y)?"cursorOn":""),ref:N,style:{width:I,fontSize:g},onMouseDown:b=>{if(b.detail!==1)return;const w=Y(b,N);c([w,w,"none"]),v(w)},onClick:b=>{var te,ne,re,se;if(k.focus(),b.detail===3)return c([0,e.value.length,"forward"]);if(b.detail!==2)return;const w=Y(b,N,!1),S=/\w/.test(e.value[w]),F=(ne=(te=e.value.slice(0,w).match(S?/\w+$/:/\W+$/))==null?void 0:te[0])!=null?ne:"",_e=(se=(re=e.value.slice(w).match(S?/^\w+/:/^\W+/))==null?void 0:re[0])!=null?se:"";c([w-F.length,w+_e.length,"forward"])},children:Be}),Je.exports.createPortal(s("textarea",m(f({id:n},k.props),{style:{position:"absolute",left:je?"20vw":"200vw",top:"50vh",width:G+2+"px",fontSize:g},className:"ColorInput",onKeyDown:b=>{const w=ze[b.key];if(w){let S=!0;w(()=>S=!1),S&&b.preventDefault()}},onChange:b=>e.onChange(b.target.value),spellCheck:!1,value:e.value,autoFocus:e.autoFocus,onFocus:()=>{l(!0)},onBlur:()=>{l(!1)}})),a)]}):null}const En=function(t){return h("div",{className:"scrollableOuter ",children:[s("div",{className:"scrollable "+t.className,children:t.children}),s("div",{className:"textareaRoot"})]})},On=e=>{const[t,n]=e.hintState,r=E(),o=x(J),{guess:c,highlight:a,selection:i}=qt(),[l,u]=mn(a,m(f({},pn),{onEnd:()=>r(Ct())}));return d.exports.useEffect(()=>{l>c.length&&a>=c.length&&u(c.length)}),h(O,{children:[s(In,{value:c,autoFocus:!0,onChange:p=>r(It(p)),charClass:yn(l,o),selection:i,onSelectionChange:p=>r(Ot(p)),shortcutMap:{Enter:()=>r(Et()),PageDown:()=>r(we(1)),PageUp:()=>r(we(-1)),"@":()=>r(kt()),"~":()=>r(ye()),"[":()=>n(p=>!p)}}),s("br",{}),t&&s(tn,{})]})},He=(e,t=[])=>{const n=[];for(let r=0;r<10;r++){const o=Re(e,t);n.push(o),t.push(o.root)}return n},Rn=()=>{const e=E(),t=x(Q),[n,r]=d.exports.useState([]),[o,c]=d.exports.useState(()=>He(t)),a=d.exports.useMemo(()=>o.sort((i,l)=>i.root.localeCompare(l.root)),[o]);return h("div",{className:"text-lg",children:[a.map((i,l)=>{const u=i.root+l;return h("div",{children:[s("input",{id:u,type:"checkbox",checked:n.includes(i.root),onChange:p=>r(y=>n.includes(i.root)?n.filter(v=>v!==i.root):[...n,i.root])}),h("label",{className:"ml-2",htmlFor:u,children:[i.root," (",i.count,")"]})]},u)}),h("div",{className:"float-right",children:[s("button",{className:"w-28 mt-4 ml-2 border",onClick:()=>c(He(t,n.slice())),children:"See more"}),s("button",{className:"w-28 mt-4 ml-2 border",onClick:()=>e(ye(n)),children:"Start"})]}),s("div",{className:"mt-4",children:n.map((i,l)=>h("span",{children:[i,l!==n.length-1?", ":" "]},i))})]})},Mn=s("table",{children:h("tbody",{children:[h("tr",{children:[s("td",{children:"Enter"}),s("td",{children:"Check"})]}),h("tr",{children:[s("td",{children:"["}),s("td",{children:"Show clue"})]}),h("tr",{children:[s("td",{children:"PageDown/PageUp"}),s("td",{children:"Next/previous verse"})]}),h("tr",{children:[s("td",{children:"@"}),s("td",{children:"Skip question"})]})]})});function An(){const e=x(u=>u.settings.dark),t=E(),{clue:n}=Fe(),r=x(Bt),o=d.exports.useState(!1),[,c]=o,a=x(Nt),[i,l]=d.exports.useState(!1);return h(O,{children:[h("div",{className:"flex",children:[s(ln,{size:48,onClick:u=>t($t())}),h("div",{className:"m-auto px-32 flex-grow",children:[h("div",{className:"pb-2",children:[r," ",s("span",{onClick:()=>l(!0),children:"?"}),s(Ye,{isOpen:i,onClose:()=>l(!1),darkMode:e,children:h("div",{style:{padding:24},children:[s("h2",{children:"Shortcuts"}),Mn]})})]}),s(qn,{})]}),s(un,{size:48})]}),s("div",{className:"flex m-auto max-w-3xl sm:mt-20 md:mt-36",children:h("div",{className:"my-auto w-full",children:[h("h2",{className:"text-6xl font-mono mt-5",children:[n," ",a.type!=="checkboxes"&&s("span",{className:"text-xl align-middle font-sans",onClick:()=>c(u=>!u),children:s(an,{})})]}),s("br",{}),a.type==="checkboxes"?s(Rn,{}):s(On,{hintState:o})]})})]})}const qn=()=>{const{completed:e,completedGoal:t}=Fe().game;return s(Zt,{complete:e/t,className:"w-full",children:h("span",{className:"font-sans text-xs",children:[e,"/",t]})})},Tn=()=>{const e=x(M("hue")),t=E();return d.exports.useEffect(()=>{const n=document.querySelector(":root");n instanceof HTMLHtmlElement&&n.style.setProperty("--accent",`hsl(${e}, 37%, 60%)`)},[e]),s("input",{type:"range",value:e,min:0,max:255,onChange:n=>t(he("hue",Number(n.target.value)))})},We=[{name:"Jeff"},{name:"Bob"},{name:"Harry"},{name:"Fred"}],Gn=()=>{const[e,t]=d.exports.useState(We),[n,r]=d.exports.useState(1),o=Ze(e,{from:{opacity:0,height:0},enter:{opacity:1,height:24},leave:{opacity:0,height:0}});return h(O,{children:[s("button",{onClick:()=>t(c=>[{name:"Boggo"},...c]),children:"add"}),s("br",{}),s("button",{onClick:()=>t(c=>c.slice(1)),children:"remove"}),s("br",{}),s("button",{onClick:()=>t(We),children:"reset"}),s("br",{}),s("button",{onClick:()=>t(c=>[{name:"Boggo"},...c.slice(1)]),children:"replace"}),s("br",{}),s("br",{}),o((c,a)=>s(et.div,{style:c,children:a.name})),s("br",{}),s("input",{type:"text",value:n,onChange:c=>r(Number(c.target.value))})]})},Pe={type:"recall",completed:0,completedGoal:12,order:"random",questionIndex:0,inOrderCount:2,inOrderDone:0,setIndexesLeft:[]},Fn=m(f({},Pe),{order:"next",inOrderCount:1,completedGoal:1/0}),Dn=()=>{const e=E(),t=x(g=>g.bank);if(!t)throw new Error("The bank is missing. Likely fix is to do localStorage.clear()");const n=Xt(),r=x(g=>g.settings.dark),[o,c]=d.exports.useState("passed"),[a,i]=d.exports.useState("genah"),[l,u]=d.exports.useState(!0),p=new W.Passage(a||"t"),y=Object.keys(t).indexOf(a),[v,k]=d.exports.useState(""),[C,N]=d.exports.useState(!1),G={type:"find",completed:0,completedGoal:3,order:"choose",answerType:"text",hintType:"text",questionIndex:-1,queue:v?v.split(" "):[],found:[],doRecap:l},I=(g,H)=>{e(ve(g,H))};return n==="game"?s(An,{}):h(O,{children:[s(tt,{darkMode:r,content:["a","b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b b","c",s(Gn,{})],width:800,height:400,onClose:()=>N(!1),isOpen:C}),h("span",{className:"mt-3",onClick:g=>T(g)&&I(Fn,T(g)),children:["Type out: ",s(Z,{})]}),s("br",{}),s("br",{}),h("span",{className:"mt-3",onClick:g=>T(g)&&I(Pe,T(g)),children:["Random recall from: ",s(Z,{})]}),s("br",{}),s("div",{className:"mt-6"}),h("span",{className:"mt-3",onClick:g=>T(g)&&I(G,T(g)),children:["Find random word from: ",s(Z,{})]}),s("br",{}),"starting with:"," ",s("input",{type:"text",value:v,onChange:g=>k(g.target.value)}),s("br",{}),"recap after:"," ",s("input",{type:"checkbox",checked:l,onChange:g=>u(g.target.checked)}),s("br",{}),s("div",{className:"mt-6"}),"New verse:"," ",s("input",{type:"text",className:"mt-3 w-14",value:a,onChange:g=>i(g.target.value)}),s("span",{className:"ml-4"}),y===-1?"Invalid verse":h(O,{children:[s("span",{className:"opacity-50 cursor-pointer",onClick:()=>I({type:"recall",completed:0,completedGoal:1/0,order:"next",setIndexesLeft:[],inOrderDone:1,inOrderCount:0,questionIndex:y},"^"),children:"Observe and recall"}),s("br",{}),h("span",{className:"mt-3 opacity-50 cursor-pointer",onClick:()=>I({type:"find",completed:0,completedGoal:10,order:"next",answerType:"text",hintType:"text",questionIndex:0,queue:xe(t[a]),found:[],doRecap:l},"^"+p.book.shortcut),children:["Find each word in ",p.reference," throughout ",p.book.name," ","^"+p.book.shortcut]})]}),s("br",{}),s("div",{className:"mt-3"}),s("h2",{className:"text-xl",children:"Practice strats"}),"Ready for meditation:",h("ul",{children:[s("li",{className:"opacity-70",children:"- Recall random pairs"}),s("li",{className:"opacity-70",children:"- Find occurrences of 3 words"})]}),"Recent (consolidation? piecing together?):",h("ul",{children:[s("li",{className:"opacity-70",children:"- Same as above for smaller group?"}),s("li",{className:"opacity-70",children:"- Draw chapter map on paper"})]}),s("h2",{className:"text-xl mt-2",children:"Ideas"}),"all:",h("ul",{children:[s("li",{className:"opacity-70",children:"- Occurrences of word pairs"}),s("li",{className:"opacity-70",children:"- Type rest of verse for occurrence find"}),s("li",{className:"opacity-70",children:"- Type/recall speed goal/limit"}),s("li",{className:"opacity-70",children:"- After finding occurrences, find references. With time limit?"}),s("li",{className:"opacity-70",children:'- Find way of filtering "meaningful" words? Use wink for nouns?'})]}),s("div",{className:"mt-12"}),D(o)," <- ",s("input",{type:"text",value:o,onChange:g=>c(g.target.value)}),s("br",{}),q.verb(o)," Verb",s("br",{}),q.noun(o)," Noun",s("br",{}),q.adjective(o)," Adjective",s("br",{}),s(Tn,{}),s("br",{}),s(fe,{setting:"parseMnemonics",children:"Translate"}),s(fe,{setting:"dark",children:"Dark mode"}),h("button",{onClick:()=>N(g=>!g),children:["\u2754 ",String(C)]})]})},Ln={"All verses":"^",Assorted:"^prce-f|^sl|^ps139|^prp|^fo|^la[i-l]|^jerq|^ubk|^cr|^fh\u015F|^ba[n-o]|^gaq|^gmd-g",Matthew:"^a[e-i]","5-7":"^a[e-g]","8-9 ":"^a[h-i]","10 ":"^aj",James:"^t","1-3":"^t[a-c]","3-5":"^t[c-e]","4-5":"^t[d-e]",tcq:"^tcq",Psalms:"^ps","16 ":"^psp","25 ":"^psy","67 ":"^ps67",Warfare:"^jf","New Assorted":"^gf|^pr(s|cg)|^ibt|^dmD|^sc|^cj|^isM",Genesis:"^gen","1 ":"^gena",Revelation:"^rev"},Z=()=>s(O,{children:Object.entries(Ln).map(([e,t],n)=>s("span",{className:"text-xl mt-3 ml-3 cursor-pointer opacity-50","data-verse-filter":t,children:e},n))}),T=e=>e.target instanceof HTMLSpanElement&&e.target.getAttribute("data-verse-filter")||"",Hn=fetch("/tas/memory.txt").then(e=>e.text()).then(e=>e.split(`
`).reduce((t,n,r,o)=>(r%2==0&&(t[n]=o[r+1]),t),{})),Wn=()=>{try{const e=sessionStorage.getItem("state");return e===null?void 0:JSON.parse(e)}catch(e){console.error("Session storage load error: ",e);return}},Pn=e=>{try{const t=JSON.stringify(e);sessionStorage.setItem("state",t)}catch(t){console.error("Session storage save error: ",t)}},jn=[it],ee=nt(Jt,Wn(),rt(st(...jn)));ee.subscribe(()=>{Pn(ee.getState())});ot.render(s(ct,{store:ee,children:s(zn,{children:s(Dn,{})})}),document.getElementById("root"));function zn(e){const t=E(),n=dt();return d.exports.useEffect(()=>void Hn.then(r=>t(Vt(r))),[]),s("div",{className:n,children:h(En,{className:"transition duration-500 bg-white text-black dark:bg-neutral-800 dark:text-white",children:[e.children,s("div",{id:"modalRoot"})]})})}
